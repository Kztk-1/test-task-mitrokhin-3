<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Telegram WebApp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
<h1>Send Data to Spring Boot</h1>
<button onclick="sendData()">Send My Data</button>

<script>
    function sendData() {
        const initData = Telegram.WebApp.initDataUnsafe;
        const data = {
            userId: initData.user?.id,
            firstName: initData.user?.first_name,
            lastName: initData.user?.last_name,
            username: initData.user?.username,
            authDate: initData.auth_date,
            queryId: initData.query_id,
            chatId: Telegram.WebApp.chatId
        };

        // Отправляем данные в ваше Spring Boot приложение
        Telegram.WebApp.sendData(JSON.stringify(data), {
            url: "https://test-task-mitrokhin-3-production.up.railway.app/api/webhook"
        });

        Telegram.WebApp.close();
    }
</script>
</body>
</html>